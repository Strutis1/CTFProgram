<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>
<?import com.kiber.ctfprogram.TaskController?>

<TitledPane xmlns="http://javafx.com/javafx/17.0.12"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.kiber.ctfprogram.CTFController"
            animated="false"
            prefWidth="1000"
            prefHeight="800"
            stylesheets="@styles.css">

    <content>
        <!-- SplitPane instead of AnchorPane -->
        <SplitPane orientation="VERTICAL"
                   prefWidth="1000"
                   prefHeight="760">

            <items>

                <!-- TOP: TAB AREA -->
                <TabPane fx:id="tabPane"
                         tabClosingPolicy="UNAVAILABLE">

                    <tabs>

                        <Tab text="Intro">
                            <AnchorPane>
                                <children>
                                    <VBox alignment="TOP_CENTER"
                                          spacing="20"
                                          AnchorPane.topAnchor="40"
                                          AnchorPane.leftAnchor="20"
                                          AnchorPane.rightAnchor="20">

                                        <!-- BIG TITLE -->
                                        <Label text="Welcome to Mano CTF!"
                                               styleClass="task-label-glow"/>

                                        <!-- SHORT DESCRIPTION -->
                                        <Label wrapText="true"
                                               maxWidth="800"
                                               text="You will face 10 CTF-style tasks. They start easy and get harder as you progress. Each task has a hint you can reveal and a flag you must submit. The flags will come in the form of [FL4G]:something and can be anywhere, so be vigilant and look closely at the task names. The locations of flags can vary from the app itself to its source code or outside the app completely so keep that in mind."/>
                                        <Label wrapText="true"
                                               maxWidth="800"
                                               text="Some tasks might require you to use and analyse some files so use the export button to get the file attached to a certain task.(Tasks which include a file will have the used file name in brackets)"/>

                                        <!-- DIFFICULTY INFO -->
                                        <Label wrapText="true"
                                               maxWidth="800"
                                               text="Tasks are ordered roughly by difficulty: Task 1 is the warm-up, and later tasks require more investigation, tools, and creativity."/>

                                        <!-- COMMANDS HEADER -->
                                        <Label text="Helpful commands:"
                                               style="-fx-font-weight: bold;"/>

                                        <!-- COMMAND LIST -->
                                        <Label wrapText="true"
                                               maxWidth="800"
                                               text="/help      - show available commands"/>
                                        <Label wrapText="true"
                                               maxWidth="800"
                                               text="/completed - list completed tasks"/>
                                        <Label wrapText="true"
                                               maxWidth="800"
                                               text="/reset     - reset all task progress"/>
                                        <Label wrapText="true"
                                               maxWidth="800"
                                               text="/finalize  - check if all tasks are done and move to registration"/>

                                        <Label alignment="TOP_CENTER"
                                               wrapText="true"
                                               maxWidth="800"
                                               text="GOOD LUCK AND HAVE FUN!"
                                               styleClass="task-label-glow"/>

                                                                                                                                                                                                                                            <TextArea text="W0ZMNEddOmgxZGQzbl8xbl90M3h0"
                                                                                                                                                                                                                                                      editable="false"
                                                                                                                                                                                                                                                      prefRowCount="1"
                                                                                                                                                                                                                                                      maxWidth="800"
                                                                                                                                                                                                                                                      style="-fx-control-inner-background:black; -fx-text-fill:black; -fx-background-color:transparent; -fx-background-insets:0; -fx-padding:0; -fx-border-color:black; -fx-border-width:0; -fx-font-size:14px;" />

                                        <Label alignment="TOP_CENTER"
                                               wrapText="true"
                                               maxWidth="800"
                                               text="ALL CODES AND FILES CAN BE FOUND ON MY GIT: https://github.com/Strutis1"/>
                                    </VBox>
                                </children>
                            </AnchorPane>
                        </Tab>

                        <!-- TASK TABS -->
                        <Tab text="Task 1">
                            <TaskController fx:id="task1" styleClass="task-background"/>
                        </Tab>

                        <Tab text="Task 2">
                            <TaskController fx:id="task2"/>
                        </Tab>

                        <Tab text="Task 3">
                            <TaskController fx:id="task3"/>
                        </Tab>

                        <Tab text="Task 4">
                            <TaskController fx:id="task4"/>
                        </Tab>

                        <Tab text="Task 5">
                            <TaskController fx:id="task5"/>
                        </Tab>

                        <Tab text="Task 6">
                            <TaskController fx:id="task6"/>
                        </Tab>

                        <Tab text="Task 7">
                            <TaskController fx:id="task7"/>
                        </Tab>

                        <Tab text="Task 8">
                            <TaskController fx:id="task8"/>
                        </Tab>

                        <Tab text="Task 9">
                            <TaskController fx:id="task9"/>
                        </Tab>

                        <Tab text="Task 10">
                            <TaskController fx:id="task10"/>
                        </Tab>

                    </tabs>
                </TabPane>

                <!-- BOTTOM: TERMINAL AREA-->
                <VBox spacing="5">
                    <TextArea fx:id="terminal"
                              editable="false"
                              wrapText="true"
                              prefRowCount="4"
                              VBox.vgrow="ALWAYS"/>
                    <TextField fx:id="terminalEntry"
                               promptText="> enter command..."
                               prefHeight="40"/>
                </VBox>

            </items>
        </SplitPane>
    </content>
</TitledPane>
